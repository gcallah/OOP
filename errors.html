<!DOCTYPE html>
<html>
<!-- THIS FILE WAS GENERATED BY A SCRIPT: DO NOT EDIT IT! -->
    <head>
        <meta charset="UTF-8">
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
        <link rel="stylesheet" href="style.css">

        <!-- jQuery CDN -->
         <script src="https://code.jquery.com/jquery-1.12.0.min.js"></script>
         <!-- Bootstrap Js CDN -->
         <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>

         <script type="text/javascript">
             var status = 'on';
             $(document).ready(function () {
                 $('#sidebarCollapse').on('click', function () {
                     $('#sidebar').toggleClass('active');
                     if (status == 'on') {
                         $('#sidebarText').text("Expand Side Nav");
                         status = 'off';
                     } else {
                         $('#sidebarText').text("Collapse Side Nav");
                         status = 'on';
                     }
                 });
             });
         </script>
        <title>
            5. Errors
        </title>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-114841175-1"></script>
<script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'UA-114841175-1');
</script>
    </head>

    <body>
        <div class="wrapper">
<!-- Sidebar Holder -->
<nav id="sidebar">
        <div id="sidebarCollapse">
        <div class="sidebar-header">
            <h1>
            Object-Oriented Programming
            </h1>
            <strong>OOP</strong>
        </div>
    </div>
    <ul class="list-unstyled components">
        <li>
        <a href="index.html">
        <i class="glyphicon glyphicon-home"></i>
        Home
        </a>
        </li>
        <li>
        <a href="#Submenu0" data-toggle="collapse" aria-expanded="false">
        <i class="glyphicon glyphicon-list"></i>
        Topics
        </a>
        </li>
        <ul class="collapse list-unstyled" id="Submenu0">
            <li>
            <a href="#Submenu1" data-toggle="collapse" aria-expanded="false">
            Part I: The Basics
            </a>
            </li>
            <ul class="collapse list-unstyled" id="Submenu1">
                <li>
                <a href="hello.html">
                2. Hello, World!
                </a>
                </li>
                <li>
                <a href="otv.html">
                3. Objects, Types, and Values
                </a>
                </li>
                <li>
                <a href="computation.html">
                4. Computation
                </a>
                </li>
                <li>
                <a href="errors.html">
                5. Errors
                </a>
                </li>
                <li>
                <a href="writing.html">
                6. Writing a Program
                </a>
                </li>
                <li>
                <a href="completing.html">
                7. Completing a Program
                </a>
                </li>
                <li>
                <a href="functions.html">
                8. Technicalities: Functions, etc.
                </a>
                </li>
                <li>
                <a href="classes.html">
                9. Technicalities: Classes, etc.
                </a>
                </li>
            </ul>
            <li>
            <a href="#Submenu2" data-toggle="collapse" aria-expanded="false">
            Part II: Input and Output
            </a>
            </li>
            <ul class="collapse list-unstyled" id="Submenu2">
                <li>
                <a href="iostreams.html">
                10. Input and Output Streams
                </a>
                </li>
                <li>
                <a href="customizingio.html">
                11. Customizing Input and Output
                </a>
                </li>
                <li>
                <a href="display_model.html">
                12. A Display Model
                </a>
                </li>
                <li>
                <a href="graphics_classes.html">
                13. Graphics Classes
                </a>
                </li>
                <li>
                <a href="class_design.html">
                14. Graphics Class Design
                </a>
                </li>
                <li>
                <a href="graphing_funcs.html">
                15. Graphing Functions and Data
                </a>
                </li>
                <li>
                <a href="gui.html">
                16. Graphical User Interfaces
                </a>
                </li>
            </ul>
            <li>
            <a href="#Submenu3" data-toggle="collapse" aria-expanded="false">
            Part III: Data and Algorithms
            </a>
            </li>
            <ul class="collapse list-unstyled" id="Submenu3">
                <li>
                <a href="vector_free.html">
                17. Vector and Free Store
                </a>
                </li>
                <li>
                <a href="vector_array.html">
                18. Vectors and Arrays
                </a>
                </li>
                <li>
                <a href="vector_templ.html">
                19. Vector, Templates, and Exceptions
                </a>
                </li>
                <li>
                <a href="containers.html">
                20. Containers and Iterators
                </a>
                </li>
                <li>
                <a href="algorithms.html">
                21. Algorithms and Maps
                </a>
                </li>
            </ul>
            <li>
            <a href="#Submenu4" data-toggle="collapse" aria-expanded="false">
            Part IV Broadening the View
            </a>
            </li>
            <ul class="collapse list-unstyled" id="Submenu4">
                <li>
                <a href="history.html">
                22. Ideals and History
                </a>
                </li>
                <li>
                <a href="text.html">
                23. Text Manipulation
                </a>
                </li>
                <li>
                <a href="numerics.html">
                24. Numerics
                </a>
                </li>
                <li>
                <a href="embedded.html">
                25. Embedded Systems Programming
                </a>
                </li>
                <li>
                <a href="testing.html">
                26. Testing
                </a>
                </li>
                <li>
                <a href="C.html">
                27. The C Programming Language
                </a>
                </li>
            </ul>
        </ul>
        <li>
        <a href="#Submenu5" data-toggle="collapse" aria-expanded="false">
        <i class="glyphicon glyphicon-blackboard"></i>
        Other Materials
        </a>
        </li>
        <ul class="collapse list-unstyled" id="Submenu5">
            <li>
            <a href="syllabi/SyllabusSu2018.html">
            <i class="glyphicon glyphicon-tasks"></i>
            Course Syllabus
            </a>
            </li>
            <li>
            <a href="https://github.com/gcallah/OOP/tree/03c8d77c5ee5faae253d8a8e989aa347af0c3c45/code">
            <i class="glyphicon glyphicon-list-alt"></i>
            Source Code
            </a>
            </li>
            <li>
            <a href="tests/midterm_key.html">
            <i class="glyphicon glyphicon-pencil"></i>
            Midterm
            </a>
            </li>
            <li>
            <a href="http://www.stroustrup.com/programming.html">
            <i class="glyphicon glyphicon-book"></i>
            Our textbook's website
            </a>
            </li>
            <li>
            <a href="C++tips.html">
            <i class="glyphicon glyphicon-hand-right"></i>
            C++ Tips
            </a>
            </li>
            <li>
            <a href="https://gcallah.github.io/utils/unix_guide.html">
            <i class="glyphicon glyphicon-hand-right"></i>
            Guide to UNIX
            </a>
            </li>
        </ul>
        <li>
        <a href="about.html">
        <i class="glyphicon glyphicon-info-sign"></i>
        About
        </a>
        </li>
    </ul>
</nav>
            <div id="content">
                <h1>
                    5. Errors
                </h1>
                <details>
                    <summary class="sum1">
                    5.1 Introduction
                    </summary>
                    <figure>
                        <img src="graphics/Chap5Diag1.png" width="60%">
                        <figcaption>
                        </figcaption>
                    </figure>
                    <p>
                      While developing a program, <i>errors</i> are unacceptable
                      mistakes done by programmer often referred to as bugs.
                      To maintain the quality of a program, errors need be
                      removed and a program should be free of errors to be
                      considered acceptable.
                    </p>
                    <br>
                    <p>The errors can be classified as follows: </p>

                    <table style="width:80%" align="center">
                      <tr>
                        <th>Type of Error</th>
                        <th>Found By</th>
                      </tr>
                      <tr>
                        <td>Compile-time errors <br>
                          (Syntax, Type Errors)</td>
                        <td>Compiler</td>
                      </tr>
                      <tr>
                        <td>Link-time errors
                        </td>
                        <td>Linker (During combination of object files
                          into an exceutable program)</td>
                      </tr>
                      <tr>
                        <td>Run-time errors</td>
                        <td>Checks (Computer/ Library/ User Code)</td>
                      </tr>
                      <tr>
                        <td>Logic errors</td>
                        <td>Programmer (Looking for the causes of erroneous
                           results)</td>
                      </tr>
                    </table>
                    <br>
                    <p>How to deal with errors to produce an acceptable software
                    ?</p>
                    <p><span class="hilight">Answer: </span>  Follow these 3 basic approaches
                    </p>
                    <ul>
                      <li>Organize software to minimize errors</li>
                      <li>Eliminate most of the errors we made through
                      debugging and testing</li>
                      <li>Make sure the remaining errors are not serious</li>
                    </ul>
                </details>
                <details>
                    <summary class="sum1">
                    5.2 Sources of errors
                    </summary>
                    <ul>
                      <li><span class="hilight">Poor specification & Incomplete
                        programs:</span>
                        <i>Occurs when all cases are not handled including
                        error cases.</i></li>
                      <li><span class="hilight">Unexpected arguments: </span>
                        <i>Occurs when a argument is not handled in a function.
                        </i> <br>Example: <code>sqrt(-1.2)</code><br>
                         Since <code>sqrt()</code> of a <code>double</code>
                         returns <code>double</code>, there is no
                         possible correct return value.
                      </li>
                      <li><span class="hilight">Unexpected input: </span>
                        <i>Occurs when input cases are not handled.</i><br>
                        Example: When user enters a string input instead of
                        a expected integer input</li>
                      <li><span class="hilight">Unexpected state:</span>
                        <i>Most programs keep a lot of data around for use
                          by different parts of the system. What
                          if such a data
                          is wrong or incomplete?</i></li>
                      <li>
                          <span class="hilight">Logical errors: </span>
                        <i>The code just doesn't do what you meant it to.
                        </i></li>
                    </ul>
                </details>

                <details>
                    <summary class="sum1">
                    5.3 Compile-time errors
                    </summary>
                    <figure>
                        <img src="graphics/Chap5Diag2.png" width="40%">
                        <figcaption>
                        </figcaption>
                    </figure>
                    <p>
                      Compiler analyzes to detect syntax errors and type
                      errors.<br>Many of the errors are simply "silly" errors
                      caused due to incomplete edits of the code or mistyping.
                    </p>
                    <details>
                        <summary class="sum2">
                        5.3.1 Syntax errors
                        </summary>
                        <figure>
                            <img src="graphics/Chap5Diag6.JPG" width="40%">
                            <figcaption>
                            </figcaption>
                        </figure>
                        <p>
                        <PRE>
                        <code>
                          int s1 = area(7; <span class="comment">// error: ) missing</span>
                          int s2 = area(7) <span class="comment">// error: ; missing</span>
                          Int s3 = area(7); <span class="comment">// error: Int is not a type</span>
                          int s4 = area('7); <span class="comment">// error: non-terminated character (' missing)</span>
                        </code>
                        </PRE>
                        </p>
                        <p>For example, given the error in the declaration of s3
                          above, a compiler is unlikely to say
                        “You misspelled <code>int</code>; don’t capitalize the
                        <code>i</code>.”<br>Rather, it’ll say something like<br>
                        “syntax error: missing ‘<code>;</code>’
                        before identifier ‘<code>s3</code>’”<br>
                        “‘<code>s3</code>’ missing storage-class or
                        type identifiers”<br>“‘<code>Int</code>’ missing
                        storage-class or type identifiers”</p>
                    </details>

                    <details>
                        <summary class="sum2">
                            Drill
                        </summary>


                        <p>
                            Write the code above in a file and see what errors
                            are produced.
                        </p>

                    </details>


                    <details>
                        <summary class="sum2">
                        5.3.2 Type errors
                        </summary>

                        <p>
                            After syntax errors, the compiler begins looking
                            for type errors.
                        </p>

                        <p>
                        <PRE>
                        <code>
                          int x0 = arena(7); <span class="comment">// error: undeclared function</span>
                          int x1 = area(7); <span class="comment">// error: wrong number of arguments</span>
                          int x2 = area("seven",2); <span class="comment">// error: 1st argument has a wrong type</span>
                        </code>
                        </PRE>
                        </p>
                    </details>
                    <details>
                        <summary class="sum2">
                        5.3.3 Non-errors
                        </summary>
                        <p>
                        <PRE>
                        <code>
                          int x4 = area(10,–7); <span class="comment">// OK: but what is a rectangle with a width of minus 7?</span>
                        </code>
                        </PRE>
                        </p>
                        <p>
                          For <code>x4</code>, no error message from the
                          compiler. <code>area()</code> asks for two integers
                          irrespective of whether it is positive or negative.
                          Therefore, <code>area (10,–7)</code> is fine.
                        </p>
                    </details>
                </details>
                <details>
                    <summary class="sum1">
                    5.4 Link-time errors
                    </summary>
                    <p>
                      Translational units - several separately compiled
                      parts in a program.
                    </p>
                    <p>
                    <PRE>
                    <code>
int area(int length, int width); <span class="comment">// calculate area of a rectangle</span>
int main()
{
    int x = area(2,3);
}
                    </code>
                    </PRE>
                    </p>
                    <p>
                      The linker will complain that it didn't find a definition
                      <code>area()</code>, unless <code>area()</code> is defined
                       in some other source file and it is linked to the
                       generated code from the source file. <br>Also, both the
                       return type and the argument types must be same as that
                       of the file and the definition of <code>area()</code>.
                    </p>
                </details>
                <details>
                    <summary class="sum1">
                    5.5 Run-time errors
                    </summary>
                    <figure>
                        <img src="graphics/Chap5Diag4.gif" width="40%">
                        <figcaption>
                        </figcaption>
                    </figure>
                    <p>
                      Even after the program is syntactically correct it may
                      exit unexpectedly during execution.<br>In such case it
                      encounters a runtime error.<br>We say, a program crashes
                      when it halts due to a runtime error.
                    </p>
                    <p><span class="hilight">Examples:</span></p>
                    <ul>
                      <li>division by zero</li>
                      <li>accessing a non-existing file, dictionary value,
                        object attribute or list element</li>
                      <li>using a non-defined identifier</li>
                      <li>operation on incompatible types</li>
                    </ul>
                    <p>
                      <PRE>
                        <code>
                          int area(int length, int width) <span class="comment">// calculate area of a rectangle</span>
                          {
                              return length*width;
                          }
                          int framed_area(int x, int y) <span class="comment">// calculate area within frame</span>
                          {
                              return area(x–2,y–2);
                          }
                          int main()
                          {
                              int x = –1;
                              int y = 2;
                              int z = 4;
                              // . .
                              int area1 = area(x,y);
                              int area2 = framed_area(1,z);
                              int area3 = framed_area(y,z);
                              double ratio = double(area1)/area3; <span class="comment">// convert to double to get</span>
                              // floating-point division
                          }
                        </code>
                      </PRE>
                    </p>
                    <p>
                      The above calls lead to negative values of areas,
                      being assigned to <code>area1</code> and
                      <code>area2</code>.<br>
                      Also, look at the calculation of the ratio in the code
                      above. It looks innocent enough.<br>
                      Did you notice something wrong with it?<br>
                      <span class="hilight">Look again: </span>
                      <code>area3</code> will be <code>0</code>,
                      so that <code>double(area1)/area3</code> divides by zero.
                      <br><br>
                      The above leads to a hardware-detected error
                      that terminates the program. This problem can be dealt in
                      two ways:
                      <ul>
                        <li>The caller of <code>area()</code>
                          deal with bad arguments.</li>
                        <li><code>area()</code> (the called function)
                          deal with bad arguments.</li>
                      </ul>
                    </p>
                    <details>
                        <summary class="sum2">
                        5.5.1 The caller deals with errors
                        </summary>
                        <p>
                          Protect the call of <code>area(x,y)</code> in
                          <code>main()</code>:
                          <PRE>
                            <code>
                              if (x&lt=0) error("non-positive x");
                              if (y&lt=0) error("non-positive y");
                              int area1 = area(x,y);
                            </code>
                          </PRE>
                        </p>
                        <p>
                          To complete protecting <code>area()</code>
                          from bad arguments, we have to deal with the calls
                          through <code>framed_area()</code>:
                          <PRE>
                            <code>
          if (z&lt=2)
            error("non-positive 2nd area() argument called by framed_area()");
          int area2 = framed_area(1,z);
          if (y&lt=2 || z&lt=2)
            error("non-positive area() argument called by framed_area()");
          int area3 = framed_area(y,z);
                            </code>
                          </PRE>
                        </p>
                        <p>
                          <span class="hilight"><i>This is messy,
                            but there is also something fundamentally
                            wrong.</i></span><br>
                            What if someone modified <code>framed_area()</code>
                             to use <code>1</code> instead of <code>2</code>?
                             <br>Someone doing that would have to look at
                            every call of <code>framed_area()</code> and modify
                             the error-checking code correspondingly.<br>
                             Such code is called “brittle” because it breaks
                             easily.
                        </p>
                        <p>
                          We could make the code less brittle by giving the
                          value subtracted by <code>framed_area()</code> a name:
                          <PRE>
                            <code>
            constexpr int frame_width = 2;
            int framed_area(int x, int y) <span class="comment">// calculate area within frame</span>
            {
            return area(x–frame_width,y–frame_width);
            }
                            </code>
                          </PRE>
                        </p>
                        <p>
                          That name could be used by code calling
                          <code>framed_area()</code>:
                          <PRE>
                            <code>
        if (1–frame_width&lt=0 || z–frame_width&lt=0)
            error("non-positive argument for area() called by framed_area()");
        int area2 = framed_area(1,z);
        if (y–frame_width&lt=0 || z–frame_width&lt=0)
            error("non-positive argument for area() called by framed_area()");
        int area3 = framed_area(y,z);
                            </code>
                          </PRE>
                        </p>
                        <p>
                          Look at that code! <br>
                          <span class="hilight"><i>Are you sure it is correct?
                            Do you find it pretty? Is it easy to read?</i>
                          </span>
                          Actually, we find it ugly (and therefore
                          error-prone).<br>
                          We have more than trebled the size of the code
                          and exposed an implementation detail of
                          <code>framed_area()</code>. There
                          has to be a better way!<br>
                        </p>
                        <p>
                          Look at the original code:
                          <PRE>
                            <code>
                              int area2 = framed_area(1,z);
                              int area3 = framed_area(y,z);
                            </code>
                          </PRE>
                        </p>
                        <p>
                          It may be wrong, but at least we can see what it is
                          supposed to do. We can keep this code if we
                          put the check inside <code>framed_area()</code>.
                        </p>
                    </details>
                    <details>
                        <summary class="sum2">
                        5.5.2 The callee deals with errors
                        </summary>
                        <figure>
                            <img src="" width="40%">
                            <figcaption>
                            </figcaption>
                        </figure>
                        <p>
                          <PRE>
                            <code>
          int framed_area(int x, int y) <span class="comment">// calculate area within frame</span>
          {
            constexpr int frame_width = 2;
            if (x–frame_width&lt=0 || y–frame_width&lt=0)
              error("non-positive area() argument called by framed_area()");
            return area(x–frame_width,y–frame_width);
          }
                            </code>
                          </PRE>
                        </p>
                        <p>
                          This is rather nice, and we no longer have to write a
                          test for each call of <code>framed_area()</code>.<br>
                          Furthermore, if anything to do with the error
                          handling changes, we only have to modify the code
                          in one place.
                        </p>
                        <p>
                          <PRE>
                            <code>
          int area(int length, int width) <span class="comment">// calculate area of a rectangle</span>
          {
            if (length&lt=0 || width &lt=0) error("non-positive area() argument");
            return length*width;
          }
                            </code>
                          </PRE>
                        </p>
                        <p>
                          This will catch all errors in calls to
                          <code>area()</code>, so we no longer need to check
                          in <code>framed_area()</code>.
                        </p>
                    </details>
                    <details>
                        <summary class="sum2">
                        5.5.3 Error reporting
                        </summary>
                        <p>
                          Once you have checked a set of arguments and
                          found an error, what should you do?<br>
                          Sometimes you can return an “error value.” <br>
                          <span class="hilight">Example:</span>
                          <PRE>
        <code>
        <span class="comment">// ask user for a yes-or-no answer;</span>
        <span class="comment">// return 'b' to indicate a bad answer (i.e., not yes or no)</span>
        char ask_user(string question)
        {
          cout &lt&lt question &lt&lt "? (yes or no)\n";
          string answer = " ";
          cin &gt&gt answer;
          if (answer =="y" || answer=="yes") return 'y';
          if (answer =="n" || answer=="no") return 'n';
          return 'b'; <span class="comment">// ‘b’ for “bad answer”</span>
        }


        <span class="comment">// calculate area of a rectangle;</span>
        <span class="comment">// return –1 to indicate a bad argument</span>
        int area(int length, int width)
        {
          if (length&lt=0 || width &lt=0) return –1;
          return length*width;
        }
        </code>
                          </PRE>
                        </p>
                        <p>
                          That way, we can have the called function do the
                          detailed checking, while letting each caller
                          handle the error as desired.
                        </p>
                        <p>
                          This approach seems like it could work,
                          but it has a couple of problems that make
                          it unusable in many cases:
                          <ul>
                            <li>
                              Now both the called function and all callers
                              must test. The caller has only a simple test to
                              do but must still write that test and decide what
                              to do if it fails.
                            </li>
                            <li>
                              A caller can forget to test.
                              That can lead to unpredictable behavior
                              further along in the program.
                            </li>
                            <li>
                              Many functions do not have an “extra” return
                              value that they can use to indicate an error.
                               For example, a function that reads an integer
                               from input (such as <code>cin</code>’s operator
                               <code>&gt&gt</code>) can obviously return
                               any <code>int</code> value,
                               so there is no <code>int</code> that it could
                               return to indicate failure.
                            </li>
                          </ul>
                        </p>
                        <p>
                          <i>There is another solution that deals with this
                          problem: <span class="hilight">using exceptions.
                          </span></i>
                        </p>
                    </details>
                </details>
                <details>
                    <summary class="sum1">
                    5.6 Exceptions
                    </summary>
                    <p>
                      If a function finds an error which it cannot handle,
                      it does not return normally. It <i>throws</i> an exception
                      indicating what went wrong.<br>
                      <figure>
                          <img src="graphics/Chap5Diag5.png" width="30%">
                          <figcaption>
                          </figcaption>
                      </figure>
                      <ul>
                        <li><code>try</code> block - lists all
                          kinds of exceptions code needs to handle in the
                          <i>catch</i> parts.</li>
                        <li><code>catch</code> block - specifies what
                          to do if called code uses <i>throw</i>.</li>
                      </ul>
                    </p>
                    <details>
                        <summary class="sum2">
                        5.6.1 Bad arguments
                        </summary>
                        <p>
                          <PRE>
                            <code>
                              class Bad_area { };   <span class="comment">// a type specifically for reporting errors from area()</span>

                              <span class="comment">// calculate area of a rectangle;</span>
                              <span class="comment">// throw a Bad_area exception in case of a bad argument</span>
                              int area(int length, int width)
                              {
                                if (length&lt=0 || width&lt=0) throw Bad_area{};
                                  return length*width;
                              }
                            </code>
                          </PRE>
                        </p>
                        <p>
                          <code>Bad_area{}</code> means “Make an object of type
                          Bad_area with the default value,”<br>
                          <code>throw Bad_area{}</code> means “Make an object of
                           type Bad_area and throw it.”
                        </p>
                    </details>
                    <details>
                        <summary class="sum2">
                        5.6.2 Range errors
                        </summary>
                        <p>
                          <PRE>
                            <code>
                              vector&ltint&gt v;    <span class="comment">// a vector of ints</span>
                              for (int i; cin&gt&gtI; )
                                  v.push_back(i);     <span class="comment">// get values</span>
                              for (int i = 0; i&lt=v.size(); ++i)     <span class="comment">// print values</span>
                                  cout &lt&lt "v[" &lt&lt i &lt&lt"] == " &lt&lt v[i] &lt&lt '\n';
                            </code>
                          </PRE>
                        </p>
                        <p>
                          The termination condition is <code>i&lt=v.size()</code>
                          rather than the correct <code>i&ltv.size()</code>.<br>
                          It is an example of an <i>off-by-one error</i>.
                        </p>
                    </details>
                    <details>
                        <summary class="sum2">
                        5.6.3 Bad input
                        </summary>
                        <p>
                          Consider reading a floating-point number:<br>
                          <PRE>
                            <code>
                              double d = 0;
                              cin &gt&gt d;
                            </code>
                          </PRE>
                        </p>
                        <p>
                          Testing if the last input operation succeeded by
                          testing <code>cin</code><br>
                          <PRE>
                            <code>
                              if (cin) {
                                <span class="comment">// all is well, and we can try reading again</span>
                              }
                              else {
                                <span class="comment">// the last read didn’t succeed, so we take some other action</span>
                              }
                            </code>
                          </PRE>
                        </p>
                        <p>
                          One possible reason for operation failure is that
                          there wasn’t a <code>double</code> for
                          <code>&gt&gt</code> to read.<br>
                          <PRE>
                          <code>
            double some_function()
            {
                double d = 0;
                cin &gt&gt d;
                if (!cin) error("couldn't read a double in 'some_function()'");
                <span class="comment">// do something useful</span>
            }
                          </code>
                          </PRE>
                        </p>
                        <p>
                          The condition <code>!cin</code> means that the
                          previous operation on <code>cin</code> failed.
                        </p>
                    </details>
                    <details>
                        <summary class="sum2">
                        5.6.4 Narrowing errors
                        </summary>
                        <p>
                          Narrowing errors are errors when we assign a value
                          that’s “too large to fit” to a variable, it is
                          implicitly truncated.<br>
                          <PRE>
                            <code>
                              int x = 2.9;
                              char c = 1066;
                            </code>
                          </PRE>
                        </p>
                        <p>
                          Since <code>ints</code> don't have fractional values
                          of an integer, x will get the value 2 rather than
                          2.9.
                          <br>And <code>c</code> will get the value 42
                          (representing the character *) as per ASCII
                          character set.
                        </p>
                    </details>
                </details>
                <details>
                    <summary class="sum1">
                    5.7 Logic errors
                    </summary>
                    <figure>
                        <img src="graphics/Chap5Diag8.jpg" width="30%">
                        <figcaption>
                        </figcaption>
                    </figure>
                    <p>
                      After removing initial compiler and linker errors,
                      logic errors occur when the program runs but produces
                      wrong output.
                      <PRE>
                        <code>
                          int main()
                          {
                              vector&ltdouble&gt temps; <span class="comment">// temperatures</span>

                              for (double temp; cin&gt&gttemp; ) <span class="comment">// read and put into temps</span>
                                  temps.push_back(temp);

                              double sum = 0;
                              double high_temp = 0;
                              double low_temp = 0;

                              for (int x : temps)
                              {
                                  if(x &gt high_temp) high_temp = x; <span class="comment">// find high</span>
                                  if(x &lt low_temp) low_temp = x; <span class="comment">// find low</span>
                                  sum += x; <span class="comment">// compute sum</span>
                              }

                              cout &lt&lt "High temperature: " &lt&lt high_temp &lt&lt '\n';
                              cout &lt&lt "Low temperature: " &lt&lt low_temp &lt&lt '\n';
                              cout &lt&lt "Average temperature: " &lt&lt sum/temps.size() &lt&lt '\n';
                          }
                        </code>
                      </PRE>
                    </p>
                    <p>
                      For values,<br>
                      <code>
                        76.5, 73.5, 71.0, 73.6, 70.1, 73.5, 77.6, 85.3,
                        88.5, 91.7, 95.9, 99.2, 98.2, 100.6, 106.3, 112.4,
                        110.2, 103.6, 94.9, 91.7, 88.4, 85.2, 85.4, 87.7
                      </code><br><br>
                      The output produced was,<br>
                      <code>High temperature: 112.4</code><br>
                      <code>Low temperature: 0.0</code><br>
                      <code>Average temperature: 89.2</code><br><br>
                      Since <code>low_temp</code> was initialized at
                      <code>0.0</code>, it would remain <code>0.0</code>
                      unless one of the temperatures in the data was
                      below zero.
                    </p>
                </details>
                <details>
                    <summary class="sum1">
                    5.8 Estimation
                    </summary>
                    <p>
                      <i>Estimation</i> is a noble art that combines common
                      sense and some very simple arithmetic applied to a few
                      facts.
                      Also sometimes humorously called as <i>guesstimation</i>.
                      <br><br>
                      Always ask yourself these questions:<br>
                      <ul>
                        <li>Is this answer to this particular problem
                          plausible?</li>
                        <li>How would I recognize a plausible result?</li>
                      </ul><br>
                    </p>
                    <p>
                      Here, we are not asking,
                      <i>“What’s the exact answer?”</i> or
                      <i>“What’s the correct answer?”</i><br>
                      That’s what we are writing the program to tell us.
                    </p>
                </details>
                <details>
                    <summary class="sum1">
                    5.9 Debugging
                    </summary>
                    <figure>
                        <img src="graphics/Chap5Diag9.png" width="50%">
                        <figcaption>
                        </figcaption>
                    </figure>
                    <p>
                      When you have written some code, you have to find and
                      remove the errors. That process is usually called
                      <i>debugging</i> and <i>the errors are called bugs</i>.
                      <br><br>
                      <i>Debugging</i> works roughly like this:<br>
                      <ul>
                        <li>Get the program to compile.</li>
                        <li>Get the program to link.</li>
                        <li>Get the program to do what it is supposed to do.
                        </li>
                      </ul>
                    </p><br>
                    <p>
                      <i>Debugging</i> the most tedious and time-wasting aspect
                      of programming and will go to great lengths during design
                      and programming to minimize the amount of time spent
                      hunting for bugs.
                    </p>
                    <details>
                        <summary class="sum2">
                        5.9.1 Practical debug advice
                        </summary>
                        <figure>
                            <img src="graphics/Chap5Diag10.jpg" width="35%">
                            <figcaption>
                            </figcaption>
                        </figure>
                        <p>
                          Make the program easy to read so that you have a
                          chance of spotting the bugs:<br>
                          <ul>
                            <li>Comment your code well</li>
                            <li>The name of the program</li>
                            <li>The purpose of the program</li>
                            <li>Who wrote this code and when</li>
                            <li>Version numbers</li>
                            <li>What complicated code fragments are supposed
                              to do</li>
                            <li>What the general design ideas are</li>
                            <li>How the source code is organized</li>
                            <li>What assumptions are made about inputs</li>
                            <li>What parts of the code are still missing
                              and what cases are still not handled</li>
                            <li>Use meaningful names</li>
                            <li>Use a consistent layout of code</li>
                            <li>Break code into small functions,
                              each expressing a logical action</li>
                            <li>Avoid complicated code sequences</li>
                            <li>Try to avoid nested loops,
                              nested if-statements, complicated conditions</li>
                            <li>Use library facilities rather than your
                              own code when you can</li>
                            <li>A library is likely to be better
                              thought out and better tested than
                              what you could produce as an alternative while
                              busily solving your main problem</li>
                          </ul>
                        </p>
                    </details>
                </details>
                <details>
                    <summary class="sum1">
                    5.10 Pre- and post-conditions
                    </summary>
                    <figure>
                        <img src="graphics/Chap5Diag11.png" width="30%">
                        <figcaption>
                        </figcaption>
                    </figure>
                    <p>
                      <span class="hilight">Pre-condition Example</span>:<br>
                      <PRE>
                        <code>
                          int my_complicated_function(int a, int b, int c)
                          <span class="comment">// the arguments are positive and a &lt b &lt c</span>
                          {
                              if (!(0&lta && a&ltb && b&ltc)) <span class="comment">// ! means “not” and && means “and”</span>
                                  error("bad arguments for mcf");
                              <span class="comment">// . . .</span>
                          }
                        </code>
                      </PRE>
                    </p>
                    <p>
                      <PRE>
                      <code>
                        int x = my_complicated_function(1, 2, "horsefeathers");
                      </code>
                      </PRE>
                    </p>
                    <p>
                      Here, the compiler will catch that the requirement
                      (“pre-condition”) that the third argument be an integer
                      was violated.<br>
                      Basically, what we are talking about here is what to do
                      with the requirements/pre-conditions that the compiler
                      can’t check.
                    </p>
                    <details>
                        <summary class="sum2">
                        5.10.1 Post-conditions
                        </summary>
                        <p>
                          <PRE>
                            <code>
                              <span class="comment">// calculate area of a rectangle;</span>
                              <span class="comment">// throw a Bad_area exception in case of a bad argument</span>
                              int area(int length, int width)
                              {
                                  if (length&lt=0 || width &lt=0) throw Bad_area();
                                      return length*width;
                              }
                            </code>
                          </PRE>
                        </p>
                        <p>
                          It checks its pre-condition,
                          but it doesn’t state it in the comment
                          (that may be OK for such a short function) and
                          it assumes that the computation is correct
                          (that’s probably OK for such a trivial computation).
                          <br><br>However, we could be a bit more explicit:
                        </p>
                        <p>
                          <PRE>
                            <code>
                              int area(int length, int width)
                              <span class="comment">// calculate area of a rectangle;</span>
                              <span class="comment">// pre-conditions: length and width are positive</span>
                              <span class="comment">// post-condition: returns a positive value that is the area</span>
                              {
                                  if (length&lt=0 || width &lt=0) error("area() pre-condition");
                                      int a = length*width;
                                  if (a&lt=0) error("area() post-condition");
                                      return a;
                              }
                            </code>
                          </PRE>
                        </p>
                        <p>
                          We couldn’t check the complete post-condition,
                          but we checked the part that said that it should be
                          positive.
                        </p>
                    </details>
                </details>
                <details>
                    <summary class="sum1">
                    5.11 Testing
                    </summary>
                    <figure>
                        <img src="graphics/Chap5Diag7.jpg" width="30%">
                        <figcaption>
                        </figcaption>
                    </figure>
                    <p>
                      <i>Testing</i> is a systematic way to search for errors.
                      <i>“The last bug”</i> is a programmers’ joke.
                      There is no “the last bug” in a large program.
                      <br><br>
                      <i>Testing</i> includes comparing the results to what is
                      expected by executing a program with a large and
                      systematically selected set of inputs.
                    </p>
                </details>

                <details>
                    <summary class="sum1">
                    Test Yourself!
                    </summary>
                    <figure>
                        <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/2/2e/Exams_in_Jaura%2C_India.jpg/560px-Exams_in_Jaura%2C_India.jpg"
                        width="20%">
                        <figcaption>
                        </figcaption>
                    </figure>
        <ol class="nested">
            <li>
                The four major types of errors are...
            </li>
            <ol type="a" class="nested">
                <li>
                <input type="radio" name="q1" value="a">
                header errors, variable errors, function errors and class errors
                </li>
                <li>
                <input type="radio" name="q1" value="b">
                compile-time, link-time, run-time, and logical
                </li>
                <li>
                <input type="radio" name="q1" value="c">
                object errors, inheritance errors, template errors and polymorphism errors
                </li>
            </ol>
            <li>
                A linker error would occur when...
            </li>
            <ol type="a" class="nested">
                <li>
                <input type="radio" name="q2" value="a">
                A function used in your source code can't be found in any linked file or library.
                </li>
                <li>
                <input type="radio" name="q2" value="b">
                A variable should be linked by assignment to another variable but it is not.
                </li>
                <li>
                <input type="radio" name="q2" value="c">
                A link between one class and another is missing.
                </li>
            </ol>
            <li>
                An example of a run-time error is when...
            </li>
            <ol type="a" class="nested">
                <li>
                <input type="radio" name="q3" value="a">
                you send the wrong type of argument to a function.
                </li>
                <li>
                <input type="radio" name="q3" value="b">
                you meant to add tax to the sales price but you subtracted it instead.
                </li>
                <li>
                <input type="radio" name="q3" value="c">
                your program tries to divide by zero.
                </li>
                <li>
                <input type="radio" name="q3" value="d">
                you forget the semi-colon at the end of a line of code.
                </li>
            </ol>
            <li>
                An example of a logic error is when...y
            </li>
            <ol type="a" class="nested">
                <li>
                <input type="radio" name="q4" value="a">
                you send the wrong type of argument to a function.
                </li>
                <li>
                <input type="radio" name="q4" value="b">
                you meant to add tax to the sales price but you subtracted it instead.
                </li>
                <li>
                <input type="radio" name="q4" value="c">
                your program tries to divide by zero.
                </li>
                <li>
                <input type="radio" name="q4" value="d">
                you forget the semi-colon at the end of a line of code.
                </li>
            </ol>
            <li>
                One reason why throwing an exception is better than returning an error value is...
            </li>
            <ol type="a" class="nested">
                <li>
                <input type="radio" name="q5" value="a">
                the exception cannot be ignored.
                </li>
                <li>
                <input type="radio" name="q5" value="b">
                throwing an exception makes the code that produced the error also handle it.
                </li>
                <li>
                <input type="radio" name="q5" value="c">
                throwing exceptions is a more modern style.
                </li>
            </ol>
            <li>
                An example of something student programs are <b>not</b> expected to handle is:
            </li>
            <ol type="a" class="nested">
                <li>
                <input type="radio" name="q6" value="a">
                bad input
                </li>
                <li>
                <input type="radio" name="q6" value="b">
                hardware failures
                </li>
                <li>
                <input type="radio" name="q6" value="c">
                divide-by-zero errors
                </li>
            </ol>
            <li>
                Most large programs...
            </li>
            <ol type="a" class="nested">
                <li>
                <input type="radio" name="q7" value="a">
                will <b>always</b> contain some bugs.
                </li>
                <li>
                <input type="radio" name="q7" value="b">
                can be fully de-bugged in a couple of days.
                </li>
                <li>
                <input type="radio" name="q7" value="c">
                will likely be bug-free from the start.
                </li>
            </ol>
            <li>
                Which is used to handle the exceptions in c++?
            </li>
            <ol type="a" class="nested">
                <li>
                <input type="radio" name="q8" value="a">
                exception handler
                </li>
                <li>
                <input type="radio" name="q8" value="b">
                catch handler
                </li>
                <li>
                <input type="radio" name="q8" value="c">
                none of the mentioned
                </li>
                <li>
                <input type="radio" name="q8" value="d">
                handler
                </li>
            </ol>
            <li>
                Which of the following does not cause a syntax error to be reported by the C++ compiler?
            </li>
            <ol type="a" class="nested">
                <li>
                <input type="radio" name="q9" value="a">
                Extra blank lines
                </li>
                <li>
                <input type="radio" name="q9" value="b">
                Missing ; at the end of a statement
                </li>
                <li>
                <input type="radio" name="q9" value="c">
                Missing */ in a comment
                </li>
                <li>
                <input type="radio" name="q9" value="d">
                Mismatched {}
                </li>
            </ol>
            <li>
                Which of the following is not a syntax error?
            </li>
            <ol type="a" class="nested">
                <li>
                <input type="radio" name="q10" value="a">
                std::cout << "Hello world! ";
                </li>
                <li>
                <input type="radio" name="q10" value="b">
                std::cout << 'Hello world! ';
                </li>
                <li>
                <input type="radio" name="q10" value="c">
                std::cout << "Hello world! ";
                </li>
            </ol>
            <li>
                Run Time Errors are ..
            </li>
            <ol type="a" class="nested">
                <li>
                <input type="radio" name="q11" value="a">
                the errors which are traced by the compiler during compilation, due to wrong grammar for the language used in the program
                </li>
                <li>
                <input type="radio" name="q11" value="b">
                the errors encountered during execution of the program, due to unexpected input or output
                </li>
                <li>
                <input type="radio" name="q11" value="c">
                the errors encountered when the program does not give the desired output
                </li>
            </ol>
            <li>
                What will happen when the exception is not caught in the program?
            </li>
            <ol type="a" class="nested">
                <li>
                <input type="radio" name="q12" value="a">
                error
                </li>
                <li>
                <input type="radio" name="q12" value="b">
                program will execute
                </li>
                <li>
                <input type="radio" name="q12" value="c">
                none of the mentioned
                </li>
                <li>
                <input type="radio" name="q12" value="d">
                block of that code will not execute
                </li>
            </ol>
        </ol>
        <details>
            <summary class="sum3">
                Answers
            </summary>
            <p>
                1. b; 2. a; 3. c; 4. b; 5. a; 6. b; 7. a; 8. a; 9. a; 10. c; 11. b; 12. a; 
            </p>
        </details>
                </details>

                <details>
                    <summary class="sum1">
                    Drill
                    </summary>
                    <figure>
                        <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/7/7b/Queens.guard.buck.palace.arp.jpg/600px-Queens.guard.buck.palace.arp.jpg"
                        width="20%">
                        <figcaption>
                        </figcaption>
                    </figure>

                    <ol>
                    </ol>
                </details>
            </div>
        </div>

    </body>
</html>
